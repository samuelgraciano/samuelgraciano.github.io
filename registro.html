<html>


  <head>
  <meta charset="UTF-8";>
    <title>Modulo Registro usuario</title>
  <link rel="stylesheet" href="css/grid.css">
    <link rel="stylesheet" href="css/style.css">
   
<script>
	// Declarar un objeto
	
	function SalvarCampos(){
		var usuario = {};
		usuario.nombre = document.getElementById( "nombre" ).value ;
		usuario.usuario = document.getElementById( "email" ).value ;
		usuario.clave = document.getElementById( "clave" ).value ;
		
		return usuario;
		
		
	}
	
	function Registrar(){
		var usuario=SalvarCampos();
		
		var serializado = "";
		// Serializar el objeto como una cadena de texto JSON
		serializado = JSON.stringify( usuario );
		window.alert( serializado );
		
		var xmlhttp = new XMLHttpRequest();
		// Direccion donde se van a enviar los datos
		var url = "/registro";
		// Callback que se llama cuando termine la petición
		xmlhttp.onreadystatechange = function() {
			if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
			// Aqui puede mostrar un mensaje cuando termine de enviar los datos
				alert("Bienvenido");
			}
			if (xmlhttp.readyState == 4 && xmlhttp.status != 200) {
			// Aqui puede mostrar un mensaje cuando ocurra un error
				alert("usuario incorrecto");
			}
		};
		// Inicia la conexión
		xmlhttp.open("POST", url, true);
		// Envia la petición
		// el parametro del metodo send() es el content de la peticion (request)
		// objetoAEnviar es el objeto que queremos enviar al servidor
		xmlhttp.send(serializado);

	}
	
</script>

  </head>
  <body >
   <header>
 
        <div class="container">
          <div class="brand">
           <h1 class="brand_name"><a href="./">Catalogo Productos</a></h1>
            <p class="brand_slogan">UDEM</p>
          </div>
        </div>
   	
        <div id="fondomenu" class="fondomenu">
          <div class="container">
            <nav class="nav">
              <ul data-type="navbar" class="sf-menu">
                <li ><a href="index.html">INICIO</a>
                </li>
                <li><a href="Acercade.html">ACERCA DE</a>
                 
                </li>
                
               
              </ul>
            </nav>
          </div>
        </div>
      </header>
	  
	   <div id="container" class="container">
              <img src="imagess/registro.jpg">
  
  
    <h1>Registrese</h1>

  <form action="#" >

    <p>
    <label>
      Ingrese su Nombre 
    </label>
      <input type="text" id="nombre" value="Yo">
	</p>
	<p>
    <label>
      Ingrese su Email
    </label>
      <input type="text" id="email" value="yo@aqui.com">

	</p>
	<p>
	  <label>
      Escriba una contraseña
    </label>
      <input type="secret" id="clave" value="">

	</p>
	<p>
	  <label>
      Confirme su contraseña
    </label>
      <input type="secret" id="verifica" value="">
  </p>
</form>

	<button id="guardar" onclick="Registrar()"  >Registrar</button>
  
  </body>
</html>
